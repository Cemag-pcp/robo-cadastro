{% extends "base.html" %}
{% load static %}

{% block links %}
{% endblock %}

{% block title %}
    <title>Cadastro de Conjunto</title>
{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4">Cadastro de Conjunto</h2>

    <!-- Formulário para preencher a peça -->
    <form method="post" id="formCadastrarConjunto">
        {% csrf_token %}
        
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                Informações da Peça
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="codigo" class="form-label">Código:</label>
                    <input type="text" name="codigo" id="codigo" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="nome" class="form-label">Nome:</label>
                    <input type="text" name="nome" id="nome" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="classe" class="form-label">Classe:</label>
                    <select name="classe" id="classe" class="form-select">
                        {% for classe in classes %}
                            <option value="{{ classe.id }}">{{ classe.nome }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <!-- Etapas -->
        <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
                Etapas
            </div>
            <div class="card-body">
                <div id="etapas-container" class="mb-3">
                    <!-- Campos de etapa dinâmicos aparecerão aqui -->
                </div>
                <button type="button" class="btn btn-outline-secondary" onclick="addEtapa()">Adicionar Etapa</button>
            </div>
        </div>

        <!-- Recursos -->
        <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
                Recursos
            </div>
            <div class="card-body">
                <div id="recursos-container" class="mb-3">
                    <!-- Campos de recurso dinâmicos aparecerão aqui -->
                </div>
                <button type="button" class="btn btn-outline-secondary" onclick="addRecurso()">Adicionar Recurso</button>
            </div>
        </div>

        <!-- Botão de envio -->
        <div class="text-center">
            <button type="submit" id="submitConjunto" class="btn btn-primary">Salvar</button>
        </div>
    </form>

</div>
{% endblock %}

{% block scripts %}
    <script src="{% static 'js/script-conjunto.js' %}"></script>   
{% endblock %}